<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Proofi Health ‚Äî Interactive Experience</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üß¨</text></svg>">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
    
    :root {
      --bg: #030712;
      --surface: #0f172a;
      --surface-2: #1e293b;
      --border: #334155;
      --text: #f1f5f9;
      --text-dim: #94a3b8;
      --green: #22c55e;
      --green-dim: rgba(34, 197, 94, 0.15);
      --blue: #3b82f6;
      --blue-dim: rgba(59, 130, 246, 0.15);
      --purple: #a855f7;
      --purple-dim: rgba(168, 85, 247, 0.15);
      --orange: #f97316;
      --orange-dim: rgba(249, 115, 22, 0.15);
      --red: #ef4444;
      --cyan: #06b6d4;
      --mono: 'JetBrains Mono', monospace;
      --sans: 'Inter', system-ui, sans-serif;
    }
    
    html { scroll-behavior: smooth; }
    
    body {
      background: var(--bg);
      color: var(--text);
      font-family: var(--sans);
      line-height: 1.6;
      overflow-x: hidden;
    }
    
    /* Animated Background */
    .bg-grid {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(rgba(59, 130, 246, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(59, 130, 246, 0.03) 1px, transparent 1px);
      background-size: 60px 60px;
      pointer-events: none;
      z-index: 0;
    }
    
    .bg-glow {
      position: fixed;
      width: 600px;
      height: 600px;
      border-radius: 50%;
      filter: blur(150px);
      opacity: 0.15;
      pointer-events: none;
      z-index: 0;
    }
    
    .glow-1 {
      top: -200px;
      right: -200px;
      background: var(--blue);
      animation: float 20s ease-in-out infinite;
    }
    
    .glow-2 {
      bottom: -200px;
      left: -200px;
      background: var(--green);
      animation: float 25s ease-in-out infinite reverse;
    }
    
    .glow-3 {
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: var(--purple);
      animation: float 30s ease-in-out infinite;
    }
    
    @keyframes float {
      0%, 100% { transform: translate(0, 0); }
      25% { transform: translate(50px, -50px); }
      50% { transform: translate(-30px, 30px); }
      75% { transform: translate(-50px, -30px); }
    }
    
    /* Navigation */
    nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      padding: 16px 32px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: rgba(3, 7, 18, 0.8);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border);
    }
    
    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
      font-weight: 700;
      font-size: 18px;
    }
    
    .logo-icon {
      width: 36px;
      height: 36px;
      background: linear-gradient(135deg, var(--green), var(--blue));
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
    }
    
    .nav-links {
      display: flex;
      gap: 32px;
    }
    
    .nav-links a {
      color: var(--text-dim);
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
      transition: color 0.2s;
    }
    
    .nav-links a:hover { color: var(--text); }
    
    .nav-cta {
      padding: 10px 24px;
      background: linear-gradient(135deg, var(--green), #16a34a);
      color: #000 !important;
      border-radius: 8px;
      font-weight: 600;
    }
    
    /* Hero Section */
    .hero {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 120px 32px 80px;
      position: relative;
      z-index: 1;
      text-align: center;
    }
    
    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 8px 20px;
      background: var(--green-dim);
      border: 1px solid rgba(34, 197, 94, 0.3);
      border-radius: 100px;
      font-size: 13px;
      font-weight: 600;
      color: var(--green);
      margin-bottom: 32px;
      animation: fadeInUp 0.6s ease-out;
    }
    
    .hero-badge .dot {
      width: 8px;
      height: 8px;
      background: var(--green);
      border-radius: 50%;
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.5; transform: scale(0.8); }
    }
    
    .hero h1 {
      font-size: clamp(40px, 7vw, 80px);
      font-weight: 900;
      line-height: 1.1;
      margin-bottom: 24px;
      max-width: 900px;
      animation: fadeInUp 0.6s ease-out 0.1s backwards;
    }
    
    .hero h1 span {
      background: linear-gradient(135deg, var(--green), var(--blue), var(--purple));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .hero-sub {
      font-size: 20px;
      color: var(--text-dim);
      max-width: 600px;
      margin-bottom: 48px;
      animation: fadeInUp 0.6s ease-out 0.2s backwards;
    }
    
    .hero-actions {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
      justify-content: center;
      animation: fadeInUp 0.6s ease-out 0.3s backwards;
    }
    
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .btn {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 16px 32px;
      font-size: 15px;
      font-weight: 600;
      border-radius: 12px;
      cursor: pointer;
      border: none;
      text-decoration: none;
      transition: all 0.2s;
    }
    
    .btn-primary {
      background: linear-gradient(135deg, var(--green), #16a34a);
      color: #000;
      box-shadow: 0 0 40px rgba(34, 197, 94, 0.3);
    }
    
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 0 60px rgba(34, 197, 94, 0.5);
    }
    
    .btn-secondary {
      background: var(--surface);
      color: var(--text);
      border: 1px solid var(--border);
    }
    
    .btn-secondary:hover {
      background: var(--surface-2);
      border-color: var(--text-dim);
    }
    
    /* Stats Bar */
    .stats-bar {
      display: flex;
      gap: 48px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 80px;
      padding: 32px;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 16px;
      animation: fadeInUp 0.6s ease-out 0.4s backwards;
    }
    
    .stat {
      text-align: center;
    }
    
    .stat-value {
      font-size: 36px;
      font-weight: 800;
      font-family: var(--mono);
      background: linear-gradient(135deg, var(--text), var(--text-dim));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .stat-value .counter { display: inline; }
    
    .stat-label {
      font-size: 13px;
      color: var(--text-dim);
      margin-top: 4px;
    }
    
    /* Flow Section */
    .section {
      padding: 120px 32px;
      position: relative;
      z-index: 1;
    }
    
    .section-header {
      text-align: center;
      margin-bottom: 80px;
    }
    
    .section-tag {
      display: inline-block;
      padding: 6px 16px;
      background: var(--blue-dim);
      border: 1px solid rgba(59, 130, 246, 0.3);
      border-radius: 100px;
      font-size: 12px;
      font-weight: 600;
      color: var(--blue);
      text-transform: uppercase;
      letter-spacing: 0.1em;
      margin-bottom: 16px;
    }
    
    .section-title {
      font-size: clamp(32px, 5vw, 48px);
      font-weight: 800;
      margin-bottom: 16px;
    }
    
    .section-sub {
      font-size: 18px;
      color: var(--text-dim);
      max-width: 600px;
      margin: 0 auto;
    }
    
    /* Interactive Flow */
    .flow-container {
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .flow-step {
      display: grid;
      grid-template-columns: 1fr 80px 1fr;
      align-items: center;
      gap: 32px;
      margin-bottom: 48px;
      opacity: 0;
      transform: translateY(30px);
      transition: all 0.6s ease-out;
    }
    
    .flow-step.visible {
      opacity: 1;
      transform: translateY(0);
    }
    
    .flow-step:nth-child(even) .flow-card:first-child { order: 3; }
    .flow-step:nth-child(even) .flow-number { order: 2; }
    .flow-step:nth-child(even) .flow-visual { order: 1; }
    
    .flow-number {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, var(--green), var(--blue));
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      font-weight: 800;
      font-family: var(--mono);
      flex-shrink: 0;
      position: relative;
    }
    
    .flow-number::after {
      content: '';
      position: absolute;
      top: 100%;
      left: 50%;
      width: 2px;
      height: 80px;
      background: linear-gradient(to bottom, var(--border), transparent);
    }
    
    .flow-step:last-child .flow-number::after { display: none; }
    
    .flow-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 32px;
      transition: all 0.3s;
    }
    
    .flow-card:hover {
      border-color: var(--green);
      transform: translateY(-4px);
      box-shadow: 0 20px 60px rgba(34, 197, 94, 0.1);
    }
    
    .flow-icon {
      width: 48px;
      height: 48px;
      background: var(--green-dim);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      margin-bottom: 20px;
    }
    
    .flow-card h3 {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 12px;
    }
    
    .flow-card p {
      color: var(--text-dim);
      font-size: 14px;
      line-height: 1.7;
    }
    
    .flow-visual {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 24px;
      font-family: var(--mono);
      font-size: 12px;
      min-height: 200px;
      position: relative;
      overflow: hidden;
    }
    
    /* Terminal Animation */
    .terminal {
      background: #0d1117;
      border-radius: 12px;
      overflow: hidden;
    }
    
    .terminal-header {
      background: #161b22;
      padding: 12px 16px;
      display: flex;
      gap: 8px;
    }
    
    .terminal-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
    }
    
    .terminal-dot.red { background: #ff5f56; }
    .terminal-dot.yellow { background: #ffbd2e; }
    .terminal-dot.green { background: #27c93f; }
    
    .terminal-body {
      padding: 16px;
      font-family: var(--mono);
      font-size: 13px;
      line-height: 1.8;
      min-height: 150px;
    }
    
    .terminal-line {
      margin-bottom: 8px;
      opacity: 0;
      animation: typeLine 0.3s ease-out forwards;
    }
    
    .terminal-line .prompt { color: var(--green); }
    .terminal-line .cmd { color: var(--text); }
    .terminal-line .output { color: var(--text-dim); }
    .terminal-line .success { color: var(--green); }
    .terminal-line .hash { color: var(--blue); }
    
    @keyframes typeLine {
      from { opacity: 0; transform: translateX(-10px); }
      to { opacity: 1; transform: translateX(0); }
    }
    
    /* Live Audit Chain */
    #audit-chain {
      background: var(--surface);
      border-radius: 24px;
      padding: 48px;
      max-width: 1000px;
      margin: 0 auto;
    }
    
    .audit-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 32px;
    }
    
    .audit-title {
      font-size: 24px;
      font-weight: 700;
    }
    
    .audit-live {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 16px;
      background: var(--green-dim);
      border-radius: 100px;
      font-size: 13px;
      font-weight: 600;
      color: var(--green);
    }
    
    .audit-live .pulse {
      width: 8px;
      height: 8px;
      background: var(--green);
      border-radius: 50%;
      animation: pulse 1.5s infinite;
    }
    
    .chain-container {
      display: flex;
      flex-direction: column;
      gap: 16px;
      max-height: 500px;
      overflow-y: auto;
      padding-right: 16px;
    }
    
    .chain-container::-webkit-scrollbar {
      width: 4px;
    }
    
    .chain-container::-webkit-scrollbar-thumb {
      background: var(--border);
      border-radius: 4px;
    }
    
    .audit-block {
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 20px;
      display: grid;
      grid-template-columns: auto 1fr auto;
      gap: 20px;
      align-items: center;
      animation: slideIn 0.4s ease-out;
      transition: all 0.3s;
    }
    
    .audit-block:hover {
      border-color: var(--blue);
      transform: translateX(8px);
    }
    
    .audit-block.new {
      animation: newBlock 0.6s ease-out;
      border-color: var(--green);
      box-shadow: 0 0 30px rgba(34, 197, 94, 0.2);
    }
    
    @keyframes slideIn {
      from { opacity: 0; transform: translateX(-30px); }
      to { opacity: 1; transform: translateX(0); }
    }
    
    @keyframes newBlock {
      0% { opacity: 0; transform: scale(0.9); }
      50% { transform: scale(1.02); }
      100% { opacity: 1; transform: scale(1); }
    }
    
    .block-icon {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
    }
    
    .block-icon.access { background: var(--green-dim); }
    .block-icon.revoke { background: var(--orange-dim); }
    .block-icon.verify { background: var(--blue-dim); }
    .block-icon.create { background: var(--purple-dim); }
    
    .block-info h4 {
      font-size: 15px;
      font-weight: 600;
      margin-bottom: 4px;
    }
    
    .block-info p {
      font-size: 12px;
      color: var(--text-dim);
      font-family: var(--mono);
    }
    
    .block-meta {
      text-align: right;
    }
    
    .block-time {
      font-size: 12px;
      color: var(--text-dim);
      margin-bottom: 4px;
    }
    
    .block-hash {
      font-family: var(--mono);
      font-size: 11px;
      color: var(--blue);
      background: var(--blue-dim);
      padding: 4px 8px;
      border-radius: 4px;
    }
    
    /* Token Visualizer */
    .token-section {
      background: var(--surface);
      border-radius: 24px;
      padding: 48px;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .token-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 24px;
      margin-top: 32px;
    }
    
    .token-card {
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 24px;
      position: relative;
      overflow: hidden;
      transition: all 0.3s;
    }
    
    .token-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
    }
    
    .token-card.active::before { background: var(--green); }
    .token-card.expired::before { background: var(--orange); }
    .token-card.revoked::before { background: var(--red); }
    
    .token-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }
    
    .token-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 20px;
    }
    
    .token-type {
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-dim);
    }
    
    .token-status {
      padding: 4px 12px;
      border-radius: 100px;
      font-size: 11px;
      font-weight: 600;
    }
    
    .token-status.active { background: var(--green-dim); color: var(--green); }
    .token-status.expired { background: var(--orange-dim); color: var(--orange); }
    .token-status.revoked { background: rgba(239, 68, 68, 0.15); color: var(--red); }
    
    .token-recipient {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 16px;
    }
    
    .token-scope {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 20px;
    }
    
    .scope-tag {
      padding: 4px 10px;
      background: var(--surface-2);
      border-radius: 4px;
      font-size: 11px;
      font-family: var(--mono);
      color: var(--cyan);
    }
    
    .token-details {
      display: grid;
      gap: 12px;
      padding-top: 16px;
      border-top: 1px solid var(--border);
    }
    
    .token-detail {
      display: flex;
      justify-content: space-between;
      font-size: 13px;
    }
    
    .token-detail-label { color: var(--text-dim); }
    .token-detail-value { 
      font-family: var(--mono); 
      font-size: 12px;
    }
    
    .token-actions {
      display: flex;
      gap: 8px;
      margin-top: 20px;
    }
    
    .token-btn {
      flex: 1;
      padding: 10px;
      border: none;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .token-btn.revoke {
      background: rgba(239, 68, 68, 0.15);
      color: var(--red);
    }
    
    .token-btn.revoke:hover {
      background: var(--red);
      color: #fff;
    }
    
    .token-btn.extend {
      background: var(--blue-dim);
      color: var(--blue);
    }
    
    .token-btn.extend:hover {
      background: var(--blue);
      color: #fff;
    }
    
    /* Health Data Generator */
    .generator-section {
      background: linear-gradient(135deg, var(--surface), var(--bg));
      border-radius: 24px;
      padding: 48px;
      max-width: 1000px;
      margin: 0 auto;
      border: 1px solid var(--border);
    }
    
    .generator-header {
      text-align: center;
      margin-bottom: 40px;
    }
    
    .generator-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 32px;
    }
    
    .health-metric {
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 24px;
      text-align: center;
      transition: all 0.3s;
    }
    
    .health-metric:hover {
      border-color: var(--green);
      transform: scale(1.02);
    }
    
    .metric-icon {
      font-size: 32px;
      margin-bottom: 12px;
    }
    
    .metric-value {
      font-size: 28px;
      font-weight: 800;
      font-family: var(--mono);
      margin-bottom: 4px;
      transition: all 0.3s;
    }
    
    .metric-value.updating {
      color: var(--green);
      text-shadow: 0 0 20px var(--green);
    }
    
    .metric-label {
      font-size: 12px;
      color: var(--text-dim);
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }
    
    .metric-trend {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
      margin-top: 8px;
      font-size: 12px;
      font-weight: 600;
    }
    
    .metric-trend.up { color: var(--green); }
    .metric-trend.down { color: var(--red); }
    
    .generator-controls {
      display: flex;
      justify-content: center;
      gap: 16px;
      flex-wrap: wrap;
    }
    
    .gen-btn {
      padding: 14px 28px;
      border: none;
      border-radius: 10px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.2s;
    }
    
    .gen-btn.primary {
      background: linear-gradient(135deg, var(--green), #16a34a);
      color: #000;
    }
    
    .gen-btn.secondary {
      background: var(--surface-2);
      color: var(--text);
      border: 1px solid var(--border);
    }
    
    .gen-btn:hover { transform: translateY(-2px); }
    
    /* Interactive Playground */
    .playground {
      background: var(--surface);
      border-radius: 24px;
      padding: 48px;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .playground-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 32px;
    }
    
    .playground-tabs {
      display: flex;
      gap: 8px;
    }
    
    .tab {
      padding: 10px 20px;
      background: transparent;
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text-dim);
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .tab.active {
      background: var(--green);
      border-color: var(--green);
      color: #000;
    }
    
    .tab:not(.active):hover {
      border-color: var(--text-dim);
      color: var(--text);
    }
    
    .playground-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
    }
    
    .code-editor {
      background: #0d1117;
      border-radius: 12px;
      overflow: hidden;
    }
    
    .editor-header {
      background: #161b22;
      padding: 12px 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .editor-title {
      font-size: 13px;
      font-weight: 600;
      color: var(--text-dim);
    }
    
    .editor-actions {
      display: flex;
      gap: 8px;
    }
    
    .editor-btn {
      padding: 6px 12px;
      background: var(--green);
      border: none;
      border-radius: 6px;
      font-size: 12px;
      font-weight: 600;
      color: #000;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .editor-btn:hover {
      transform: scale(1.05);
    }
    
    .editor-body {
      padding: 16px;
      font-family: var(--mono);
      font-size: 13px;
      line-height: 1.8;
      max-height: 400px;
      overflow-y: auto;
    }
    
    .editor-body code {
      display: block;
      white-space: pre-wrap;
    }
    
    .code-keyword { color: #ff7b72; }
    .code-string { color: #a5d6ff; }
    .code-number { color: #79c0ff; }
    .code-comment { color: #8b949e; }
    .code-function { color: #d2a8ff; }
    .code-property { color: #7ee787; }
    
    .output-panel {
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 12px;
      overflow: hidden;
    }
    
    .output-header {
      background: var(--surface-2);
      padding: 12px 16px;
      font-size: 13px;
      font-weight: 600;
      color: var(--text-dim);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .output-status {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 12px;
    }
    
    .output-status.success { color: var(--green); }
    .output-status.error { color: var(--red); }
    
    .output-body {
      padding: 16px;
      font-family: var(--mono);
      font-size: 12px;
      line-height: 1.8;
      max-height: 400px;
      overflow-y: auto;
    }
    
    .output-line {
      margin-bottom: 8px;
      padding-left: 16px;
      border-left: 2px solid var(--border);
    }
    
    .output-line.success { border-color: var(--green); }
    .output-line.info { border-color: var(--blue); }
    .output-line.warn { border-color: var(--orange); }
    .output-line.error { border-color: var(--red); }
    
    /* CTA Section */
    .cta-section {
      text-align: center;
      padding: 120px 32px;
      position: relative;
      z-index: 1;
    }
    
    .cta-card {
      background: linear-gradient(135deg, var(--surface), var(--bg));
      border: 1px solid var(--border);
      border-radius: 32px;
      padding: 80px 48px;
      max-width: 800px;
      margin: 0 auto;
      position: relative;
      overflow: hidden;
    }
    
    .cta-card::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(34, 197, 94, 0.1) 0%, transparent 70%);
      animation: rotate 20s linear infinite;
    }
    
    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    
    .cta-title {
      font-size: clamp(32px, 5vw, 48px);
      font-weight: 800;
      margin-bottom: 16px;
      position: relative;
    }
    
    .cta-sub {
      font-size: 18px;
      color: var(--text-dim);
      margin-bottom: 40px;
      position: relative;
    }
    
    .cta-actions {
      display: flex;
      gap: 16px;
      justify-content: center;
      flex-wrap: wrap;
      position: relative;
    }
    
    /* Footer */
    footer {
      padding: 48px 32px;
      text-align: center;
      border-top: 1px solid var(--border);
      position: relative;
      z-index: 1;
    }
    
    .footer-links {
      display: flex;
      justify-content: center;
      gap: 32px;
      margin-bottom: 24px;
    }
    
    .footer-links a {
      color: var(--text-dim);
      text-decoration: none;
      font-size: 14px;
      transition: color 0.2s;
    }
    
    .footer-links a:hover { color: var(--text); }
    
    .footer-copy {
      color: var(--text-dim);
      font-size: 13px;
    }
    
    /* Responsive */
    @media (max-width: 900px) {
      .flow-step {
        grid-template-columns: 1fr;
        text-align: center;
      }
      
      .flow-step .flow-card,
      .flow-step .flow-number,
      .flow-step .flow-visual { order: unset !important; }
      
      .flow-number::after { display: none; }
      
      .playground-content {
        grid-template-columns: 1fr;
      }
      
      .nav-links { display: none; }
    }
    
    @media (max-width: 600px) {
      .hero { padding: 100px 20px 60px; }
      .section { padding: 80px 20px; }
      .stats-bar { gap: 24px; }
      .token-grid { grid-template-columns: 1fr; }
      .generator-grid { grid-template-columns: repeat(2, 1fr); }
    }
  </style>
</head>
<body>
  <!-- Background Effects -->
  <div class="bg-grid"></div>
  <div class="bg-glow glow-1"></div>
  <div class="bg-glow glow-2"></div>
  <div class="bg-glow glow-3"></div>
  
  <!-- Navigation -->
  <nav>
    <div class="logo">
      <div class="logo-icon">üß¨</div>
      <span>Proofi Health</span>
    </div>
    <div class="nav-links">
      <a href="#flow">How It Works</a>
      <a href="#audit">Live Chain</a>
      <a href="#tokens">Tokens</a>
      <a href="#playground">Try It</a>
      <a href="#cta" class="nav-cta">Get Started</a>
    </div>
  </nav>
  
  <!-- Hero -->
  <section class="hero">
    <div class="hero-badge">
      <span class="dot"></span>
      Live Interactive Demo
    </div>
    <h1>Your Health Data.<br><span>Your Cryptographic Control.</span></h1>
    <p class="hero-sub">Experience the future of privacy-preserving health data sharing. 
    Real encryption. Real tokens. Real audit trails. Zero trust required.</p>
    <div class="hero-actions">
      <a href="#playground" class="btn btn-primary">
        üß™ Try It Yourself
      </a>
      <a href="#flow" class="btn btn-secondary">
        üìñ See How It Works
      </a>
    </div>
    
    <div class="stats-bar">
      <div class="stat">
        <div class="stat-value"><span class="counter" data-target="256">0</span>-bit</div>
        <div class="stat-label">End-to-End Encryption</div>
      </div>
      <div class="stat">
        <div class="stat-value">&lt;<span class="counter" data-target="50">0</span>ms</div>
        <div class="stat-label">Token Validation</div>
      </div>
      <div class="stat">
        <div class="stat-value"><span class="counter" data-target="100">0</span>%</div>
        <div class="stat-label">User Control</div>
      </div>
      <div class="stat">
        <div class="stat-value"><span class="counter" data-target="0">0</span></div>
        <div class="stat-label">Third Parties with Raw Data</div>
      </div>
    </div>
  </section>
  
  <!-- Interactive Flow -->
  <section id="flow" class="section">
    <div class="section-header">
      <div class="section-tag">How It Works</div>
      <h2 class="section-title">The Privacy-First Flow</h2>
      <p class="section-sub">From your device to AI analysis ‚Äî without ever exposing raw data</p>
    </div>
    
    <div class="flow-container">
      <!-- Step 1 -->
      <div class="flow-step">
        <div class="flow-card">
          <div class="flow-icon">üì±</div>
          <h3>Export Your Health Data</h3>
          <p>Export health records from Apple Health, Fitbit, or any device. Data stays on your device until you decide to share.</p>
        </div>
        <div class="flow-number">1</div>
        <div class="flow-visual terminal" id="step1-terminal">
          <div class="terminal-header">
            <span class="terminal-dot red"></span>
            <span class="terminal-dot yellow"></span>
            <span class="terminal-dot green"></span>
          </div>
          <div class="terminal-body" id="step1-output"></div>
        </div>
      </div>
      
      <!-- Step 2 -->
      <div class="flow-step">
        <div class="flow-card">
          <div class="flow-icon">üîê</div>
          <h3>Client-Side Encryption</h3>
          <p>Your data is encrypted with X25519 keys before it leaves your device. Only you hold the decryption key.</p>
        </div>
        <div class="flow-number">2</div>
        <div class="flow-visual terminal" id="step2-terminal">
          <div class="terminal-header">
            <span class="terminal-dot red"></span>
            <span class="terminal-dot yellow"></span>
            <span class="terminal-dot green"></span>
          </div>
          <div class="terminal-body" id="step2-output"></div>
        </div>
      </div>
      
      <!-- Step 3 -->
      <div class="flow-step">
        <div class="flow-card">
          <div class="flow-icon">üé´</div>
          <h3>Issue Capability Token</h3>
          <p>Create a scoped token granting specific access. Define what data, for how long, and to whom.</p>
        </div>
        <div class="flow-number">3</div>
        <div class="flow-visual terminal" id="step3-terminal">
          <div class="terminal-header">
            <span class="terminal-dot red"></span>
            <span class="terminal-dot yellow"></span>
            <span class="terminal-dot green"></span>
          </div>
          <div class="terminal-body" id="step3-output"></div>
        </div>
      </div>
      
      <!-- Step 4 -->
      <div class="flow-step">
        <div class="flow-card">
          <div class="flow-icon">ü§ñ</div>
          <h3>AI Agent Analysis</h3>
          <p>The AI validates the token, decrypts only permitted data, performs analysis, and logs everything to the audit chain.</p>
        </div>
        <div class="flow-number">4</div>
        <div class="flow-visual terminal" id="step4-terminal">
          <div class="terminal-header">
            <span class="terminal-dot red"></span>
            <span class="terminal-dot yellow"></span>
            <span class="terminal-dot green"></span>
          </div>
          <div class="terminal-body" id="step4-output"></div>
        </div>
      </div>
      
      <!-- Step 5 -->
      <div class="flow-step">
        <div class="flow-card">
          <div class="flow-icon">‚úÖ</div>
          <h3>Receive Insights</h3>
          <p>Get AI-powered health insights while maintaining full control. Revoke access anytime. View complete audit log.</p>
        </div>
        <div class="flow-number">5</div>
        <div class="flow-visual terminal" id="step5-terminal">
          <div class="terminal-header">
            <span class="terminal-dot red"></span>
            <span class="terminal-dot yellow"></span>
            <span class="terminal-dot green"></span>
          </div>
          <div class="terminal-body" id="step5-output"></div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Live Audit Chain -->
  <section id="audit" class="section">
    <div class="section-header">
      <div class="section-tag">Transparency</div>
      <h2 class="section-title">Live Audit Chain</h2>
      <p class="section-sub">Every access, every action ‚Äî cryptographically logged and verifiable</p>
    </div>
    
    <div id="audit-chain">
      <div class="audit-header">
        <h3 class="audit-title">Audit Trail</h3>
        <div class="audit-live">
          <span class="pulse"></span>
          Realtime Updates
        </div>
      </div>
      <div class="chain-container" id="chain-container">
        <!-- Blocks inserted dynamically -->
      </div>
    </div>
  </section>
  
  <!-- Health Data Generator -->
  <section id="generator" class="section">
    <div class="section-header">
      <div class="section-tag">Simulation</div>
      <h2 class="section-title">Mock Health Data</h2>
      <p class="section-sub">Generate realistic health metrics to test the system</p>
    </div>
    
    <div class="generator-section">
      <div class="generator-grid">
        <div class="health-metric">
          <div class="metric-icon">‚ù§Ô∏è</div>
          <div class="metric-value" id="metric-heart">72</div>
          <div class="metric-label">Heart Rate (BPM)</div>
          <div class="metric-trend up" id="trend-heart">‚Üë 3%</div>
        </div>
        <div class="health-metric">
          <div class="metric-icon">üë£</div>
          <div class="metric-value" id="metric-steps">8,432</div>
          <div class="metric-label">Steps Today</div>
          <div class="metric-trend up" id="trend-steps">‚Üë 12%</div>
        </div>
        <div class="health-metric">
          <div class="metric-icon">üò¥</div>
          <div class="metric-value" id="metric-sleep">7.5h</div>
          <div class="metric-label">Sleep Duration</div>
          <div class="metric-trend up" id="trend-sleep">‚Üë 8%</div>
        </div>
        <div class="health-metric">
          <div class="metric-icon">ü©∏</div>
          <div class="metric-value" id="metric-oxygen">98%</div>
          <div class="metric-label">Blood Oxygen</div>
          <div class="metric-trend" id="trend-oxygen">‚Äî 0%</div>
        </div>
        <div class="health-metric">
          <div class="metric-icon">üî•</div>
          <div class="metric-value" id="metric-calories">1,847</div>
          <div class="metric-label">Calories Burned</div>
          <div class="metric-trend up" id="trend-calories">‚Üë 5%</div>
        </div>
        <div class="health-metric">
          <div class="metric-icon">üßò</div>
          <div class="metric-value" id="metric-stress">32</div>
          <div class="metric-label">Stress Level</div>
          <div class="metric-trend down" id="trend-stress">‚Üì 15%</div>
        </div>
      </div>
      
      <div class="generator-controls">
        <button class="gen-btn primary" onclick="generateRandomData()">
          üé≤ Generate Random Data
        </button>
        <button class="gen-btn secondary" onclick="startLiveSimulation()">
          ‚ñ∂Ô∏è Start Live Simulation
        </button>
        <button class="gen-btn secondary" onclick="stopLiveSimulation()">
          ‚èπÔ∏è Stop
        </button>
      </div>
    </div>
  </section>
  
  <!-- Token Visualization -->
  <section id="tokens" class="section">
    <div class="section-header">
      <div class="section-tag">Access Control</div>
      <h2 class="section-title">Capability Tokens</h2>
      <p class="section-sub">Manage who can access what, and for how long</p>
    </div>
    
    <div class="token-section">
      <div class="token-grid" id="token-grid">
        <!-- Token cards inserted dynamically -->
      </div>
      
      <div style="text-align: center; margin-top: 32px;">
        <button class="btn btn-primary" onclick="createNewToken()">
          ‚ûï Create New Token
        </button>
      </div>
    </div>
  </section>
  
  <!-- Interactive Playground -->
  <section id="playground" class="section">
    <div class="section-header">
      <div class="section-tag">Hands-On</div>
      <h2 class="section-title">Try It Yourself</h2>
      <p class="section-sub">Run real cryptographic operations in your browser</p>
    </div>
    
    <div class="playground">
      <div class="playground-header">
        <div class="playground-tabs">
          <button class="tab active" data-tab="encrypt">Encrypt Data</button>
          <button class="tab" data-tab="token">Create Token</button>
          <button class="tab" data-tab="verify">Verify Token</button>
          <button class="tab" data-tab="audit">Log Access</button>
        </div>
      </div>
      
      <div class="playground-content">
        <div class="code-editor">
          <div class="editor-header">
            <span class="editor-title">Code</span>
            <div class="editor-actions">
              <button class="editor-btn" onclick="runCode()">‚ñ∂ Run</button>
            </div>
          </div>
          <div class="editor-body">
            <code id="code-content"></code>
          </div>
        </div>
        
        <div class="output-panel">
          <div class="output-header">
            <span>Output</span>
            <span class="output-status" id="output-status"></span>
          </div>
          <div class="output-body" id="output-body">
            <div class="output-line info">Ready. Click "Run" to execute.</div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- CTA -->
  <section id="cta" class="cta-section">
    <div class="cta-card">
      <h2 class="cta-title">Ready to Own Your Health Data?</h2>
      <p class="cta-sub">Join the privacy revolution. Real cryptography. Real control. Real simple.</p>
      <div class="cta-actions">
        <a href="/health.html" class="btn btn-primary">
          üöÄ Get Started
        </a>
        <a href="https://github.com/proofi" class="btn btn-secondary" target="_blank">
          üìö View Documentation
        </a>
      </div>
    </div>
  </section>
  
  <!-- Footer -->
  <footer>
    <div class="footer-links">
      <a href="/">Proofi Home</a>
      <a href="/verify.html">Verifier</a>
      <a href="/portal.html">Portal</a>
      <a href="https://github.com/proofi" target="_blank">GitHub</a>
    </div>
    <p class="footer-copy">¬© 2024 Proofi ‚Äî Built on Cere Network</p>
  </footer>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// PROOFI HEALTH DEMO ‚Äî INTERACTIVE EXPERIENCE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

// Utility functions
const $ = id => document.getElementById(id);
const delay = ms => new Promise(r => setTimeout(r, ms));
const randomInt = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;
const randomHash = () => [...Array(12)].map(() => '0123456789abcdef'[randomInt(0,15)]).join('');
const formatTime = d => d.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', second: '2-digit' });

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// COUNTER ANIMATION
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function animateCounters() {
  document.querySelectorAll('.counter').forEach(counter => {
    const target = parseInt(counter.dataset.target);
    const duration = 2000;
    const step = target / (duration / 16);
    let current = 0;
    
    const update = () => {
      current += step;
      if (current < target) {
        counter.textContent = Math.floor(current);
        requestAnimationFrame(update);
      } else {
        counter.textContent = target;
      }
    };
    
    update();
  });
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// SCROLL ANIMATIONS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function initScrollAnimations() {
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
        
        // Trigger terminal animations
        const stepNum = entry.target.querySelector('.flow-number')?.textContent;
        if (stepNum) {
          setTimeout(() => animateTerminal(stepNum), 300);
        }
      }
    });
  }, { threshold: 0.3 });
  
  document.querySelectorAll('.flow-step').forEach(step => observer.observe(step));
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// TERMINAL ANIMATIONS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const terminalContent = {
  1: [
    { prompt: '$ ', cmd: 'proofi export --source apple-health', output: '' },
    { prompt: '', cmd: '', output: 'Scanning health records...' },
    { prompt: '', cmd: '', output: '‚Üí Found 847 heart_rate samples' },
    { prompt: '', cmd: '', output: '‚Üí Found 365 step_count records' },
    { prompt: '', cmd: '', output: '‚Üí Found 182 sleep_analysis entries' },
    { prompt: '', cmd: '', output: '', success: '‚úì Export ready (2.3 MB, local only)' }
  ],
  2: [
    { prompt: '$ ', cmd: 'proofi encrypt --algo x25519-xsalsa20', output: '' },
    { prompt: '', cmd: '', output: 'Generating keypair...' },
    { prompt: '', cmd: '', output: '', hash: 'PubKey: 7x9K...mN3v' },
    { prompt: '', cmd: '', output: 'Encrypting 2.3 MB of health data...' },
    { prompt: '', cmd: '', output: 'Creating content-addressed CID...' },
    { prompt: '', cmd: '', output: '', success: '‚úì Encrypted ‚Üí CID: bafy...x7k2' }
  ],
  3: [
    { prompt: '$ ', cmd: 'proofi token create \\', output: '' },
    { prompt: '  ', cmd: '--recipient "dr.smith@hospital" \\', output: '' },
    { prompt: '  ', cmd: '--scope heart_rate,sleep \\', output: '' },
    { prompt: '  ', cmd: '--ttl 7d', output: '' },
    { prompt: '', cmd: '', output: 'Signing with Ed25519...' },
    { prompt: '', cmd: '', output: 'Wrapping DEK for recipient...' },
    { prompt: '', cmd: '', output: '', success: '‚úì Token: eyJhbGci...ZDk2' }
  ],
  4: [
    { prompt: 'ü§ñ ', cmd: 'Agent received token', output: '' },
    { prompt: '', cmd: '', output: 'Validating signature... ‚úì' },
    { prompt: '', cmd: '', output: 'Checking scope... ‚úì [heart_rate, sleep]' },
    { prompt: '', cmd: '', output: 'Checking expiry... ‚úì 6d 23h remaining' },
    { prompt: '', cmd: '', output: 'Decrypting permitted fields...' },
    { prompt: '', cmd: '', output: 'Running health analysis...' },
    { prompt: '', cmd: '', output: '', success: '‚úì Analysis complete. Logging to audit chain.' }
  ],
  5: [
    { prompt: '', cmd: '', output: 'üìä Health Insights Generated:' },
    { prompt: '', cmd: '', output: '' },
    { prompt: '', cmd: '', output: '  ‚Ä¢ Avg heart rate: 68 BPM (healthy)' },
    { prompt: '', cmd: '', output: '  ‚Ä¢ Sleep quality: 82% (above average)' },
    { prompt: '', cmd: '', output: '  ‚Ä¢ Recovery score: 91/100' },
    { prompt: '', cmd: '', output: '' },
    { prompt: '', cmd: '', output: '', success: '‚úì Access logged. Token still valid for 6d 23h.' }
  ]
};

async function animateTerminal(stepNum) {
  const output = $(`step${stepNum}-output`);
  if (!output || output.dataset.animated) return;
  output.dataset.animated = 'true';
  
  const lines = terminalContent[stepNum] || [];
  
  for (let i = 0; i < lines.length; i++) {
    const line = lines[i];
    const div = document.createElement('div');
    div.className = 'terminal-line';
    div.style.animationDelay = `${i * 0.1}s`;
    
    let html = '';
    if (line.prompt) html += `<span class="prompt">${line.prompt}</span>`;
    if (line.cmd) html += `<span class="cmd">${line.cmd}</span>`;
    if (line.output) html += `<span class="output">${line.output}</span>`;
    if (line.success) html += `<span class="success">${line.success}</span>`;
    if (line.hash) html += `<span class="hash">${line.hash}</span>`;
    
    div.innerHTML = html;
    output.appendChild(div);
    await delay(150);
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// AUDIT CHAIN
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const auditActions = [
  { type: 'create', icon: 'üé´', label: 'Token Created', desc: 'New capability token issued for Dr. Smith' },
  { type: 'access', icon: 'üîì', label: 'Data Accessed', desc: 'AI Agent decrypted heart_rate metrics' },
  { type: 'verify', icon: 'üîç', label: 'Token Verified', desc: 'Signature validation successful' },
  { type: 'access', icon: 'üîì', label: 'Sleep Data Read', desc: 'AI Agent accessed sleep_analysis' },
  { type: 'revoke', icon: 'üö´', label: 'Token Revoked', desc: 'User revoked access for HealthApp' },
  { type: 'create', icon: 'üé´', label: 'Token Created', desc: 'Temporary token for insurance claim' },
  { type: 'verify', icon: 'üîç', label: 'Audit Requested', desc: 'User viewed complete access history' },
  { type: 'access', icon: 'üîì', label: 'Analysis Complete', desc: 'AI generated health insights report' }
];

let blockIndex = 0;

function addAuditBlock(immediate = false) {
  const container = $('chain-container');
  const action = auditActions[blockIndex % auditActions.length];
  const hash = randomHash();
  const time = formatTime(new Date());
  
  const block = document.createElement('div');
  block.className = `audit-block ${immediate ? '' : 'new'}`;
  block.innerHTML = `
    <div class="block-icon ${action.type}">${action.icon}</div>
    <div class="block-info">
      <h4>${action.label}</h4>
      <p>${action.desc}</p>
    </div>
    <div class="block-meta">
      <div class="block-time">${time}</div>
      <div class="block-hash">0x${hash}</div>
    </div>
  `;
  
  container.insertBefore(block, container.firstChild);
  
  // Remove 'new' class after animation
  if (!immediate) {
    setTimeout(() => block.classList.remove('new'), 600);
  }
  
  // Keep max 10 blocks
  while (container.children.length > 10) {
    container.removeChild(container.lastChild);
  }
  
  blockIndex++;
}

function initAuditChain() {
  // Add initial blocks
  for (let i = 0; i < 5; i++) {
    addAuditBlock(true);
  }
  
  // Add new blocks periodically
  setInterval(() => addAuditBlock(), 5000);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// HEALTH DATA GENERATOR
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let simulationInterval = null;

function generateRandomData() {
  const metrics = {
    heart: { id: 'metric-heart', min: 55, max: 95, suffix: '' },
    steps: { id: 'metric-steps', min: 2000, max: 15000, suffix: '', format: n => n.toLocaleString() },
    sleep: { id: 'metric-sleep', min: 4, max: 10, suffix: 'h', format: n => n.toFixed(1) },
    oxygen: { id: 'metric-oxygen', min: 94, max: 100, suffix: '%' },
    calories: { id: 'metric-calories', min: 800, max: 3500, suffix: '', format: n => n.toLocaleString() },
    stress: { id: 'metric-stress', min: 10, max: 80, suffix: '' }
  };
  
  Object.entries(metrics).forEach(([key, config]) => {
    const el = $(config.id);
    const value = randomInt(config.min, config.max);
    const formatted = config.format ? config.format(value) : value;
    
    el.classList.add('updating');
    el.textContent = formatted + config.suffix;
    
    setTimeout(() => el.classList.remove('updating'), 300);
    
    // Update trend
    const trendEl = $(`trend-${key}`);
    const change = randomInt(-20, 20);
    if (change > 0) {
      trendEl.className = 'metric-trend up';
      trendEl.textContent = `‚Üë ${change}%`;
    } else if (change < 0) {
      trendEl.className = 'metric-trend down';
      trendEl.textContent = `‚Üì ${Math.abs(change)}%`;
    } else {
      trendEl.className = 'metric-trend';
      trendEl.textContent = '‚Äî 0%';
    }
  });
}

function startLiveSimulation() {
  if (simulationInterval) return;
  simulationInterval = setInterval(generateRandomData, 1500);
}

function stopLiveSimulation() {
  clearInterval(simulationInterval);
  simulationInterval = null;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// TOKEN VISUALIZATION
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const tokens = [
  {
    id: 1,
    recipient: 'Dr. Sarah Smith',
    type: 'Medical Professional',
    status: 'active',
    scopes: ['heart_rate', 'sleep', 'activity'],
    created: '2 hours ago',
    expires: '6 days, 22 hours',
    uses: 3
  },
  {
    id: 2,
    recipient: 'HealthInsure Co.',
    type: 'Insurance Provider',
    status: 'active',
    scopes: ['summary_only'],
    created: '1 day ago',
    expires: '29 days',
    uses: 1
  },
  {
    id: 3,
    recipient: 'FitTracker App',
    type: 'Third-Party App',
    status: 'revoked',
    scopes: ['steps', 'calories', 'workout'],
    created: '5 days ago',
    expires: 'Revoked',
    uses: 47
  }
];

function renderTokens() {
  const grid = $('token-grid');
  grid.innerHTML = tokens.map(token => `
    <div class="token-card ${token.status}">
      <div class="token-header">
        <span class="token-type">${token.type}</span>
        <span class="token-status ${token.status}">${token.status}</span>
      </div>
      <div class="token-recipient">${token.recipient}</div>
      <div class="token-scope">
        ${token.scopes.map(s => `<span class="scope-tag">${s}</span>`).join('')}
      </div>
      <div class="token-details">
        <div class="token-detail">
          <span class="token-detail-label">Created</span>
          <span class="token-detail-value">${token.created}</span>
        </div>
        <div class="token-detail">
          <span class="token-detail-label">Expires</span>
          <span class="token-detail-value">${token.expires}</span>
        </div>
        <div class="token-detail">
          <span class="token-detail-label">Access Count</span>
          <span class="token-detail-value">${token.uses}√ó</span>
        </div>
      </div>
      ${token.status === 'active' ? `
        <div class="token-actions">
          <button class="token-btn revoke" onclick="revokeToken(${token.id})">Revoke</button>
          <button class="token-btn extend" onclick="extendToken(${token.id})">Extend</button>
        </div>
      ` : ''}
    </div>
  `).join('');
}

function revokeToken(id) {
  const token = tokens.find(t => t.id === id);
  if (token) {
    token.status = 'revoked';
    token.expires = 'Revoked';
    renderTokens();
    addAuditBlock();
  }
}

function extendToken(id) {
  const token = tokens.find(t => t.id === id);
  if (token) {
    token.expires = '30 days';
    renderTokens();
    addAuditBlock();
  }
}

function createNewToken() {
  const newToken = {
    id: tokens.length + 1,
    recipient: 'New Recipient',
    type: 'Custom Access',
    status: 'active',
    scopes: ['heart_rate'],
    created: 'Just now',
    expires: '7 days',
    uses: 0
  };
  tokens.unshift(newToken);
  renderTokens();
  addAuditBlock();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// INTERACTIVE PLAYGROUND
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const codeExamples = {
  encrypt: `<span class="code-comment">// Encrypt health data with X25519</span>
<span class="code-keyword">const</span> proofi = <span class="code-keyword">await</span> <span class="code-function">ProofiSDK</span>.<span class="code-function">init</span>();

<span class="code-comment">// Your health data stays local</span>
<span class="code-keyword">const</span> healthData = {
  <span class="code-property">heartRate</span>: [<span class="code-number">72</span>, <span class="code-number">68</span>, <span class="code-number">75</span>, <span class="code-number">71</span>],
  <span class="code-property">steps</span>: <span class="code-number">8432</span>,
  <span class="code-property">sleep</span>: <span class="code-number">7.5</span>
};

<span class="code-comment">// Encrypt with your keypair</span>
<span class="code-keyword">const</span> encrypted = <span class="code-keyword">await</span> proofi.<span class="code-function">encrypt</span>(
  healthData,
  { <span class="code-property">algorithm</span>: <span class="code-string">'x25519-xsalsa20-poly1305'</span> }
);

<span class="code-keyword">console</span>.<span class="code-function">log</span>(<span class="code-string">'CID:'</span>, encrypted.cid);`,
  
  token: `<span class="code-comment">// Create a scoped capability token</span>
<span class="code-keyword">const</span> token = <span class="code-keyword">await</span> proofi.<span class="code-function">createToken</span>({
  <span class="code-property">recipient</span>: <span class="code-string">'did:key:z6Mk...'</span>,
  <span class="code-property">resource</span>: <span class="code-string">'cid://bafy...'</span>,
  <span class="code-property">scope</span>: [<span class="code-string">'heart_rate'</span>, <span class="code-string">'sleep'</span>],
  <span class="code-property">ttl</span>: <span class="code-number">604800</span>, <span class="code-comment">// 7 days</span>
  <span class="code-property">maxUses</span>: <span class="code-number">10</span>
});

<span class="code-comment">// Token is signed with Ed25519</span>
<span class="code-keyword">console</span>.<span class="code-function">log</span>(<span class="code-string">'Token:'</span>, token.jwt);`,
  
  verify: `<span class="code-comment">// Verify and use a capability token</span>
<span class="code-keyword">const</span> result = <span class="code-keyword">await</span> proofi.<span class="code-function">verifyToken</span>(token);

<span class="code-keyword">if</span> (result.valid) {
  <span class="code-keyword">console</span>.<span class="code-function">log</span>(<span class="code-string">'‚úì Signature valid'</span>);
  <span class="code-keyword">console</span>.<span class="code-function">log</span>(<span class="code-string">'‚úì Not expired'</span>);
  <span class="code-keyword">console</span>.<span class="code-function">log</span>(<span class="code-string">'‚úì Scope:'</span>, result.scope);
  
  <span class="code-comment">// Decrypt only permitted data</span>
  <span class="code-keyword">const</span> data = <span class="code-keyword">await</span> proofi.<span class="code-function">decrypt</span>(
    result.resource,
    { <span class="code-property">token</span>: token }
  );
}`,
  
  audit: `<span class="code-comment">// Log access to audit chain</span>
<span class="code-keyword">const</span> entry = <span class="code-keyword">await</span> proofi.<span class="code-function">logAccess</span>({
  <span class="code-property">action</span>: <span class="code-string">'read'</span>,
  <span class="code-property">resource</span>: <span class="code-string">'cid://bafy...'</span>,
  <span class="code-property">accessor</span>: <span class="code-string">'did:key:z6Mk...'</span>,
  <span class="code-property">fields</span>: [<span class="code-string">'heart_rate'</span>],
  <span class="code-property">timestamp</span>: Date.<span class="code-function">now</span>()
});

<span class="code-comment">// Immutable, verifiable log</span>
<span class="code-keyword">console</span>.<span class="code-function">log</span>(<span class="code-string">'Logged:'</span>, entry.hash);`
};

const codeOutputs = {
  encrypt: [
    { type: 'info', text: '‚Üí Generating X25519 keypair...' },
    { type: 'info', text: '‚Üí Encrypting 3 fields (128 bytes)...' },
    { type: 'success', text: '‚úì Encryption complete' },
    { type: 'info', text: '' },
    { type: 'info', text: 'CID: bafybeigdyrzt5sfp7udm7hu76uh7y26nf3efuylqabf3oclgtqy55fbzdi' },
    { type: 'info', text: 'Algorithm: x25519-xsalsa20-poly1305' },
    { type: 'info', text: 'Nonce: 24 bytes (random)' },
    { type: 'success', text: '' },
    { type: 'success', text: '‚úì Data encrypted and ready for storage' }
  ],
  token: [
    { type: 'info', text: '‚Üí Creating capability token...' },
    { type: 'info', text: '‚Üí Signing with Ed25519...' },
    { type: 'info', text: '‚Üí Wrapping DEK for recipient...' },
    { type: 'success', text: '‚úì Token created' },
    { type: 'info', text: '' },
    { type: 'info', text: 'Token: eyJhbGciOiJFZERTQSIsInR5cCI6IkpXVCJ9...' },
    { type: 'info', text: 'Recipient: did:key:z6MkhaXgBZDvotDkL5257faiztiGiC2QtKLGpbnnEGta2doK' },
    { type: 'info', text: 'Scope: [heart_rate, sleep]' },
    { type: 'info', text: 'Expires: 2024-02-15T12:00:00Z' }
  ],
  verify: [
    { type: 'info', text: '‚Üí Verifying token signature...' },
    { type: 'success', text: '‚úì Signature valid (Ed25519)' },
    { type: 'info', text: '‚Üí Checking expiration...' },
    { type: 'success', text: '‚úì Token not expired (6d 23h remaining)' },
    { type: 'info', text: '‚Üí Checking scope...' },
    { type: 'success', text: '‚úì Scope: [heart_rate, sleep]' },
    { type: 'info', text: '‚Üí Decrypting permitted fields...' },
    { type: 'success', text: '‚úì Decrypted 2 fields' },
    { type: 'info', text: '' },
    { type: 'success', text: '‚úì Access granted. Audit logged.' }
  ],
  audit: [
    { type: 'info', text: '‚Üí Creating audit entry...' },
    { type: 'info', text: '‚Üí Computing hash chain...' },
    { type: 'info', text: '‚Üí Previous: 0x8f3a2b1c...' },
    { type: 'info', text: '‚Üí Current:  0x2d4e6f8a...' },
    { type: 'success', text: '‚úì Entry added to audit chain' },
    { type: 'info', text: '' },
    { type: 'info', text: 'Block #127' },
    { type: 'info', text: 'Hash: 0x2d4e6f8a9b1c3d5e7f0a2b4c6d8e0f1a' },
    { type: 'info', text: 'Timestamp: 2024-02-08T14:32:15.847Z' },
    { type: 'success', text: '' },
    { type: 'success', text: '‚úì Immutably logged. View in audit chain.' }
  ]
};

let currentTab = 'encrypt';

function initPlayground() {
  // Set up tabs
  document.querySelectorAll('.tab').forEach(tab => {
    tab.addEventListener('click', () => {
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      tab.classList.add('active');
      currentTab = tab.dataset.tab;
      $('code-content').innerHTML = codeExamples[currentTab];
      $('output-body').innerHTML = '<div class="output-line info">Ready. Click "Run" to execute.</div>';
      $('output-status').innerHTML = '';
    });
  });
  
  // Initial code
  $('code-content').innerHTML = codeExamples.encrypt;
}

async function runCode() {
  const outputBody = $('output-body');
  const outputStatus = $('output-status');
  
  outputBody.innerHTML = '';
  outputStatus.innerHTML = '‚è≥ Running...';
  outputStatus.className = 'output-status';
  
  const outputs = codeOutputs[currentTab];
  
  for (let i = 0; i < outputs.length; i++) {
    const line = outputs[i];
    const div = document.createElement('div');
    div.className = `output-line ${line.type}`;
    div.textContent = line.text;
    outputBody.appendChild(div);
    await delay(100);
    outputBody.scrollTop = outputBody.scrollHeight;
  }
  
  outputStatus.innerHTML = '‚úì Success';
  outputStatus.className = 'output-status success';
  
  // Add to audit chain
  addAuditBlock();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// INITIALIZE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
document.addEventListener('DOMContentLoaded', () => {
  animateCounters();
  initScrollAnimations();
  initAuditChain();
  renderTokens();
  initPlayground();
});
</script>
</body>
</html>
