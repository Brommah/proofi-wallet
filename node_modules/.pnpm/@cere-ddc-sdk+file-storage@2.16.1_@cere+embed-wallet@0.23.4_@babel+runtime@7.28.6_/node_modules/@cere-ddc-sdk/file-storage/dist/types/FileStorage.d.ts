import { Blockchain, BucketId } from '@cere-ddc-sdk/blockchain';
import { PieceReadOptions, Router, PieceStoreOptions, Signer, RouterConfig, ConfigPreset, LoggerOptions, BalancedNodeConfig } from '@cere-ddc-sdk/ddc';
import { File, FileResponse } from './File';
type Config = LoggerOptions & Pick<BalancedNodeConfig, 'retries'>;
export type FileStorageConfig = Config & Omit<ConfigPreset, 'blockchain'> & {
    blockchain: Blockchain | ConfigPreset['blockchain'];
};
export type FileReadOptions = PieceReadOptions;
export type FileStoreOptions = PieceStoreOptions & {
    maxBufferSize?: number;
};
/**
 * Represents a storage system for files.
 *
 * It provides methods to read and store files in the DDC.
 *
 * @group Files
 */
export declare class FileStorage {
    private ddcNode;
    private logger;
    private blockchain?;
    constructor(config: RouterConfig & Config);
    constructor(router: Router, config: Config);
    /**
     * Creates a new instance of the `FileStorage` class asynchronously.
     *
     * @param uriOrSigner - A Signer instance or a [substrate URI](https://polkadot.js.org/docs/keyring/start/suri).
     * @param config - Configuration options for the `FileStorage`. Defaults to TESTNET.
     *
     * @returns A promise that resolves to a new `FileStorage` instance.
     *
     * * @example
     *
     * ```typescript
     * import { FileStorage, TESTNET } from '@cere-ddc-sdk/file-storage';
     *
     * const fileStorage = await FileStorage.create('//Alice', TESTNET);
     * ```
     */
    static create(uriOrSigner: Signer | string, config?: FileStorageConfig): Promise<FileStorage>;
    disconnect(): Promise<void>;
    private storeLarge;
    private storeSmall;
    /**
     * Stores a file in the DDC. Large files are stored as a collection of pieces.
     *
     * @param bucketId - The ID of the bucket where the file will be stored.
     * @param file - The file to store.
     * @param options - The options for storing the file.
     *
     * @returns A promise that resolves to the CID of the stored file.
     *
     * @example
     *
     * ```typescript
     * const bucketId = 1n;
     * const fileContent = ...;
     * const file: File = new File(fileContent, { size: 1000 });
     * const fileCid = await fileStorage.store(bucketId, file);
     *
     * console.log(fileCid);
     * ```
     */
    store(bucketId: BucketId, file: File, options?: FileStoreOptions): Promise<string>;
    /**
     * Reads a file from the file storage.
     *
     * @param bucketId - The ID of the bucket where the file is stored.
     * @param cidOrName - The CID or CNS name of the file to read.
     * @param options - The options for reading the file.
     *
     * @returns A promise that resolves to a `FileResponse` instance.
     *
     * @example
     *
     * ```typescript
     * const bucketId = 1n;
     * const fileCid = 'CID';
     * const file = await fileStorage.read(bucketId, fileCid);
     * const content = await file.text();
     *
     * console.log(content);
     * ```
     */
    read(bucketId: BucketId, cidOrName: string, options?: FileReadOptions): Promise<FileResponse>;
}
export {};
//# sourceMappingURL=FileStorage.d.ts.map