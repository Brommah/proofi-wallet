import { DagNode, DagNodeResponse, Signer, DagNodeStoreOptions, ConfigPreset, DagNodeGetOptions, AuthTokenParams, AuthToken, BalancedNodeConfig, CnsRecordGetOptions } from '@cere-ddc-sdk/ddc';
import { File, FileStoreOptions, FileResponse, FileReadOptions } from '@cere-ddc-sdk/file-storage';
import { AccountId, Blockchain, BucketId, BucketParams, ClusterId } from '@cere-ddc-sdk/blockchain';
import { DagNodeUri, FileUri } from './DdcUri';
export type DdcClientConfig = Omit<BalancedNodeConfig, 'router'> & Omit<ConfigPreset, 'blockchain'> & {
    blockchain: Blockchain | ConfigPreset['blockchain'];
};
type DepositBalanceOptions = {
    allowExtra?: boolean;
};
/**
 * `DdcClient` is a class that provides methods to interact with the DDC.
 *
 * It provides methods to manage buckets, grant access, and store and read files and DAG nodes.
 */
export declare class DdcClient {
    private readonly ddcNode;
    private readonly blockchain;
    private readonly fileStorage;
    private readonly signer;
    private readonly logger;
    constructor(uriOrSigner: Signer | string, config?: DdcClientConfig);
    /**
     * Creates a new instance of the DdcClient.
     *
     * @param uriOrSigner - A Signer instance or a [substrate URI](https://polkadot.js.org/docs/keyring/start/suri).
     * @param config - Configuration options for the DdcClient. Defaults to TESTNET.
     *
     * @returns A promise that resolves to a new instance of the DdcClient.
     *
     * @example
     *
     * ```typescript
     * const ddcClient = await DdcClient.create('//Alice', DEVNET);
     * ```
     *
     * ```typescript
     * const ddcClient = await DdcClient.create('//Alice', {
     *   blockchain: 'wss://devnet.cere.network',
     *   retries: 3,
     * });
     * ```
     */
    static create(uriOrSigner: Signer | string, config?: DdcClientConfig): Promise<DdcClient>;
    connect(): Promise<this>;
    disconnect(): Promise<this>;
    /**
     * Retrieves the current free balance of the account.
     *
     * @returns A promise that resolves to the current balance of the account.
     *
     * @example
     * ```typescript
     * const balance = await ddcClient.getBalance();
     *
     * console.log(balance);
     * ```
     * */
    getBalance(): Promise<bigint>;
    /**
     * Deposits a specified amount of tokens to the account for a specific cluster. The account must have enough tokens to cover the deposit.
     *
     * @param clusterId - The ID of the cluster to deposit tokens for.
     * @param amount - The amount of tokens to deposit.
     * @param options - Additional options for the deposit.
     *
     * @returns A promise that resolves to the transaction hash of the deposit.
     *
     * @example
     *
     * ```typescript
     * const clusterId: ClusterId = '0x...';
     * const amount = 100n;
     * const txHash = await ddcClient.depositBalance(clusterId, amount);
     *
     * console.log(txHash);
     * ```
     * */
    depositBalance(clusterId: ClusterId, amount: bigint, options?: DepositBalanceOptions): Promise<import("@cere-ddc-sdk/blockchain").SendResult>;
    /**
     * Deposits a specified amount of tokens to the target address for a specific cluster.
     * This allows depositing funds on behalf of another address.
     *
     * @param targetAddress - The target address to deposit funds for.
     * @param clusterId - The ID of the cluster to deposit tokens for.
     * @param amount - The amount of tokens to deposit.
     *
     * @returns A promise that resolves to the transaction hash of the deposit.
     *
     * @example
     *
     * ```typescript
     * const targetAddress = '5D5PhZQNJzcJXVBxwJxZcsutjKPqUPydrvpu6HeiBfMae2Qu';
     * const clusterId: ClusterId = '0x...';
     * const amount = 100n;
     * const txHash = await ddcClient.depositBalanceFor(targetAddress, clusterId, amount);
     *
     * console.log(txHash);
     * ```
     * */
    depositBalanceFor(targetAddress: AccountId, clusterId: ClusterId, amount: bigint): Promise<import("@cere-ddc-sdk/blockchain").SendResult>;
    /**
     * Retrieves the current active deposit of the account for a specific cluster.
     *
     * @param clusterId - The ID of the cluster to get deposit for.
     * @param accountId - Optional account ID. If not provided, uses the signer's address.
     *
     * @returns A promise that resolves to the current active deposit of the account.
     *
     * @example
     *
     * ```typescript
     * const clusterId: ClusterId = '0x...';
     * const deposit = await ddcClient.getDeposit(clusterId);
     *
     * console.log(deposit);
     * ```
     * */
    getDeposit(clusterId: ClusterId, accountId?: AccountId): Promise<bigint>;
    /**
     * Unlocks deposit funds from the account for the specified cluster.
     *
     * @param clusterId - The ID of the cluster.
     * @param amount - The amount to unlock.
     *
     * @returns A promise that resolves to the transaction hash.
     *
     * @example
     *
     * ```typescript
     * const clusterId: ClusterId = '0x...';
     * const amount = 100n;
     * const txHash = await ddcClient.unlockDeposit(clusterId, amount);
     *
     * console.log(txHash);
     * ```
     * */
    unlockDeposit(clusterId: ClusterId, amount: bigint): Promise<import("@cere-ddc-sdk/blockchain").SendResult>;
    /**
     * Withdraws unlocked funds from the account for the specified cluster.
     *
     * @param clusterId - The ID of the cluster.
     *
     * @returns A promise that resolves to the transaction hash.
     *
     * @example
     *
     * ```typescript
     * const clusterId: ClusterId = '0x...';
     * const txHash = await ddcClient.withdrawUnlockedDeposit(clusterId);
     *
     * console.log(txHash);
     * ```
     * */
    withdrawUnlockedDeposit(clusterId: ClusterId): Promise<import("@cere-ddc-sdk/blockchain").SendResult>;
    /**
     * Creates a new bucket on a specified cluster.
     *
     * @param clusterId - The ID of the cluster where the bucket will be created.
     * @param params - Optional parameters for the new bucket. Defaults to an empty object.
     *                 Currently, the only parameter is `isPublic`, which defaults to `false`.
     *
     * @returns A promise that resolves to the ID of the newly created bucket.
     *
     * @example
     *
     * ```typescript
     * const clusterId: ClusterId = '0x...';
     * const bucketId: BucketId = await ddcClient.createBucket(clusterId, {
     *   isPublic: true,
     * });
     * ```
     */
    createBucket(clusterId: ClusterId, params?: Partial<BucketParams>): Promise<bigint>;
    /**
     * Retrieves information about a specific bucket by its ID.
     *
     * @param bucketId - The ID of the bucket to retrieve.
     *
     * @returns A promise that resolves to the bucket information.
     *
     * @example
     *
     * ```typescript
     * const bucketId: BucketId = 1n;
     * const bucket = await ddcClient.getBucket(bucketId);
     *
     * console.log(bucket);
     * ```
     */
    getBucket(bucketId: BucketId): Promise<import("@cere-ddc-sdk/blockchain").Bucket | undefined>;
    /**
     * Retrieves a list of all available buckets.
     *
     * @returns A promise that resolves to an array of buckets.
     *
     * @example
     *
     * ```typescript
     * const buckets = await ddcClient.getBucketList();
     *
     * console.log(buckets);
     * ```
     */
    getBucketList(): Promise<import("@cere-ddc-sdk/blockchain").Bucket[]>;
    /**
     * Mark existing buckets with specified bucket ids as removed.
     *
     * @param bucketIds - The IDs of the buckets to remove.
     * @returns A promise that resolves to the IDs of the removed buckets.
     *
     * @example
     *
     * ```typescript
     * const removedBucketIds = await ddcClient.removeBucket(1, 2, 3);
     * ```
     */
    removeBuckets(...bucketIds: BucketId[]): Promise<bigint[]>;
    /**
     * @deprecated Use `getBucket` instead
     */
    bucketGet(bucketId: BucketId): Promise<import("@cere-ddc-sdk/blockchain").Bucket | undefined>;
    /**
     * @deprecated Use `getBucketList` instead
     */
    bucketList(): Promise<import("@cere-ddc-sdk/blockchain").Bucket[]>;
    /**
     * Grants access to a bucket to a specific account.
     *
     * @param subject - The account ID to grant access to.
     * @param params - The parameters for the access being granted.
     *
     * @returns A new AuthToken that the subject account can use to access the bucket.
     *
     * @example
     *
     * ```typescript
     * const subject: AccountId = '0x...';
     * const authToken = await ddcClient.grantAccess(subject, {
     *   bucketId: 1n,
     *   operations: [AuthTokenOperation.GET],
     * });
     *
     * console.log(authToken.toString());
     * ```
     */
    grantAccess(subject: AccountId, params: Omit<AuthTokenParams, 'subject'>): Promise<AuthToken>;
    /**
     * Stores a file or DAG node in a specific bucket.
     *
     * @param bucketId - The ID of the bucket to store the entity in.
     * @param entity - The file or DAG node to store.
     * @param options - Optional parameters for storing the entity.
     *
     * @returns A promise that resolves to a URI for the stored entity.
     *
     * @throws Will throw an error if the `entity` argument is neither a File nor a DagNode.
     *
     * @example
     *
     * ```typescript
     * const bucketId: BucketId = 1n;
     * const fileContent = ...;
     * const file: File = new File(fileContent, { size: 1000 });
     * const fileUri = await ddcClient.store(bucketId, file);
     *
     * console.log(fileUri);
     * ```
     */
    store(bucketId: BucketId, entity: File, options?: FileStoreOptions): Promise<FileUri>;
    store(bucketId: BucketId, entity: DagNode, options?: DagNodeStoreOptions): Promise<DagNodeUri>;
    private storeDagNode;
    /**
     * Reads a file or DAG node from a specific URI.
     *
     * @param uri - The URI of the file or DAG node to read.
     * @param options - Optional parameters for reading the entity.
     *
     * @returns A promise that resolves to the file or DAG node response.
     *
     * @example
     *
     * ```typescript
     * const fileUri = new FileUri(bucketId, cid);
     * const fileResponse = await ddcClient.read(fileUri);
     * const textContent = await fileResponse.text();
     *
     * console.log(textContent);
     * ```
     */
    read(uri: FileUri, options?: FileReadOptions): Promise<FileResponse>;
    read(uri: DagNodeUri, options?: DagNodeGetOptions): Promise<DagNodeResponse>;
    /**
     * Resolves a CNS name to a specific CID.
     *
     * @param bucketId - The ID of the bucket to resolve the CNS name in.
     * @param cnsName - The CNS name to resolve.
     *
     * @returns A promise that resolves to the CID of the CNS name.
     *
     * @example
     *
     * ```typescript
     * const bucketId: BucketId = 1n;
     * const cnsName = 'my-file';
     * const cid = await ddcClient.resolveName(bucketId, cnsName);
     *
     * console.log(cid);
     * ```
     */
    resolveName(bucketId: BucketId, cnsName: string, options?: CnsRecordGetOptions): Promise<import("@cere-ddc-sdk/ddc").Cid>;
}
export {};
//# sourceMappingURL=DdcClient.d.ts.map