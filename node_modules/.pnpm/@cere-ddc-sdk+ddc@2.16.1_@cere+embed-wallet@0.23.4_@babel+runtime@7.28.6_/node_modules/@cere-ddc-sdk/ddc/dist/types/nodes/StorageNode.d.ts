import type { Signer, BucketId, StorageNodeMode } from '@cere-ddc-sdk/blockchain';
import { Cid } from '../Cid';
import { MultipartPiece, Piece, PieceResponse } from '../Piece';
import { DagNode, DagNodeResponse } from '../DagNode';
import { CnsRecord, CnsRecordResponse } from '../CnsRecord';
import { RpcTransportOptions } from '../transports';
import { LoggerOptions } from '../logger';
import { AuthToken } from '../auth';
import { DagNodeGetOptions, DagNodeStoreOptions, PieceReadOptions, PieceStoreOptions, NodeInterface, CnsRecordStoreOptions, CnsRecordGetOptions } from './NodeInterface';
export type StorageNodeConfig = RpcTransportOptions & LoggerOptions & {
    mode: StorageNodeMode;
    nodeId?: string;
    enableAcks?: boolean;
    authenticate?: boolean;
    authToken?: AuthToken | string;
};
/**
 * The `StorageNode` class provides methods for communicating with a DDC storage node.
 *
 * @group Storage Node
 * @example
 *
 * ```typescript
 * const signer = new UriSigner('hybrid label reunion ...');
 *
 * const storageNode = new StorageNode(signer, {
 *   mode: StorageNodeMode.Storage,
 * });
 * ```
 */
export declare class StorageNode implements NodeInterface {
    private signer;
    readonly config: StorageNodeConfig;
    readonly nodeId: string;
    readonly displayName: string;
    private dagApi;
    private fileApi;
    private cnsApi;
    private logger;
    private rootTokenPromise?;
    readonly mode: StorageNodeMode;
    constructor(signer: Signer, config: StorageNodeConfig);
    private getRootToken;
    private createAuthToken;
    /**
     * Stores a piece (raw or multipart) of data in a specific bucket.
     *
     * @param bucketId - The ID of the bucket to store the piece in.
     * @param piece - The instance of Piece or MultipartPiece.
     * @param options - Optional parameters for storing the piece.
     *
     * @returns A promise that resolves to the CID of the stored piece.
     *
     * @example
     *
     * ```typescript
     * const bucketId: BucketId = 1n;
     * const piece: Piece = new Piece(new Uint8Array([1, 2, 3]));
     * const pieceCid = await storageNode.storePiece(bucketId, piece);
     *
     * console.log(pieceCid);
     * ```
     *
     * ```typescript
     * const bucketId: BucketId = 1n;
     * const piece: MultipartPiece = new MultipartPiece(['CID1', 'CID2'], {
     *  partSize: 1024,
     *  totalSize: 2048,
     * });
     *
     * const pieceCid = await storageNode.storePiece(bucketId, piece);
     *
     * console.log(pieceCid);
     * ```
     */
    storePiece(bucketId: BucketId, piece: Piece | MultipartPiece, options?: PieceStoreOptions): Promise<string>;
    /**
     * Stores a DAG node in a specific bucket.
     *
     * @param bucketId - The ID of the bucket to store the DAG node in.
     * @param node - The DAGNode instance to store.
     * @param options - Optional parameters for storing the DAG node.
     *
     * @returns A promise that resolves to the CID of the stored DAG node.
     *
     * @example
     *
     * ```typescript
     * const bucketId: BucketId = 1n;
     * const firstLink = new Link('CID', 10, 'first-link');
     * const node: DagNode = new DagNode('node content', [firstLink]);
     * const nodeCid = await storageNode.storeDagNode(bucketId, node, {
     *  name: 'node-name', // CNS name for the DAG node
     * });
     *
     * console.log(nodeCid);
     * ```
     */
    storeDagNode(bucketId: BucketId, node: DagNode, options?: DagNodeStoreOptions): Promise<string>;
    /**
     * Reads a piece of data from a specific bucket.
     *
     * @param bucketId - The ID of the bucket to read the piece from.
     * @param cidOrName - The CID or CNS name of the piece to read.
     * @param options - Optional parameters for reading the piece.
     *
     * @returns A promise that resolves to a PieceResponse instance.
     *
     * @example
     *
     * ```typescript
     * const bucketId: BucketId = 1n;
     * const cidOrName = '...'; // CID or CNS name of the piece
     * const piece = await storageNode.readPiece(bucketId, cidOrName);
     *
     * console.log(piece);
     * ```
     */
    readPiece(bucketId: BucketId, cidOrName: string, options?: PieceReadOptions): Promise<PieceResponse>;
    /**
     * Retrieves a DAG node from a specific bucket.
     *
     * @param bucketId - The ID of the bucket to retrieve the DAG node from.
     * @param cidOrName - The CID or CNS name of the DAG node to retrieve.
     * @param options - Optional parameters for retrieving the DAG node.
     *
     * @returns A promise that resolves to a DagNodeResponse instance.
     *
     * @example
     *
     * ```typescript
     * const bucketId: bigint = 1n;
     * const cidOrName = '...'; // CID or CNS name of the DAG node
     * const dagNode = await storageNode.getDagNode(bucketId, cidOrName);
     *
     * console.log(dagNode);
     * ```
     */
    getDagNode(bucketId: BucketId, cidOrName: string, options?: DagNodeGetOptions): Promise<DagNodeResponse | undefined>;
    /**
     * Stores a Content Name System (CNS) record in a specific bucket.
     *
     * @param bucketId - The ID of the bucket to store the CNS record in.
     * @param record - The CNS record to store.
     * @param options - Optional parameters for storing the CNS record.
     *
     * @returns A promise that resolves to the CID of the stored CNS record.
     *
     * @example
     *
     * ```typescript
     * const bucketId: bigint = 1n;
     * const record: CnsRecord = new CnsRecord('CID', 'record-name');
     * const recordCid = await storageNode.storeCnsRecord(bucketId, record);
     *
     * console.log(recordCid);
     * ```
     */
    storeCnsRecord(bucketId: BucketId, record: CnsRecord, options?: CnsRecordStoreOptions): Promise<import("../CnsApi").Record>;
    /**
     * Retrieves a Content Name System (CNS) record from a specific bucket.
     *
     * @param bucketId - The ID of the bucket to retrieve the CNS record from.
     * @param name - The name of the CNS record to retrieve.
     * @param options - Optional parameters for retrieving the CNS record.
     *
     * @returns A promise that resolves to CnsRecordResponse штыефтсу.
     *
     * @example
     *
     * ```typescript
     * const bucketId = 1n;
     * const name = 'record-name';
     * const cnsRecord = await storageNode.getCnsRecord(bucketId, name);
     *
     * console.log(cnsRecord);
     * ```
     */
    getCnsRecord(bucketId: BucketId, name: string, options?: CnsRecordGetOptions): Promise<CnsRecordResponse | undefined>;
    /**
     * Resolves a name to a CID in the Content Name System (CNS).
     *
     * @param name - The CNS name to resolve.
     * @param options - Optional parameters for resolving the name.
     *
     * @returns A promise that resolves to the CID corresponding to the CNS name.
     *
     * @example
     *
     * ```typescript
     * const name: string = 'record-name';
     * const cid = await storageNode.resolveName(name, options);
     *
     * console.log(cid);
     * ```
     */
    resolveName(bucketId: BucketId, cidOrName: string, options?: CnsRecordGetOptions): Promise<Cid>;
}
//# sourceMappingURL=StorageNode.d.ts.map