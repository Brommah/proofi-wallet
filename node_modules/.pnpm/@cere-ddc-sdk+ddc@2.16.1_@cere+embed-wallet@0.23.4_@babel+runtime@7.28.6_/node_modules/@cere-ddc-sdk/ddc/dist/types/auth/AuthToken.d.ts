import { AccountId, Signer } from '@cere-ddc-sdk/blockchain';
import { Signature } from '../signature';
import { AuthToken as Token, Payload, Operation } from '../grpc/auth_token';
export { Operation as AuthTokenOperation };
/**
 * The `AuthTokenParams` type represents the parameters for creating an `AuthToken`.
 *
 * @hidden
 */
export type AuthTokenParams = Omit<Payload, 'subject' | 'prev' | 'pieceCid'> & {
    pieceCid?: string | Uint8Array;
    expiresIn?: number;
    subject?: AccountId;
    prev?: AuthToken | string;
};
/**
 * The `AuthToken` class represents an authentication token.
 *
 * @group Authentication
 *
 * @example
 *
 * ```typescript
 * const authToken = new AuthToken({
 *   bucketId: 1n,
 *   operations: [AuthTokenOperation.GET],
 * });
 *
 * await authToken.sign(signer);
 *
 * const sharebleToken = authToken.toString();
 * console.log(sharebleToken);
 *
 * const authTokenFromSharebleToken = AuthToken.from(sharebleToken);
 * console.log(authTokenFromSharebleToken);
 * ```
 */
export declare class AuthToken {
    protected token: Token;
    constructor(params: AuthTokenParams);
    get subject(): string | undefined;
    /**
     * The signature of the token
     */
    get signature(): Signature | undefined;
    /**
     * Whether the token can delegate access.
     */
    get canDelegate(): boolean;
    /**
     * The bucket identifier that the token grants access to.
     */
    get bucketId(): bigint | undefined;
    /**
     * The operations that the token grants access to.
     */
    get operations(): Operation[];
    /**
     * The piece CID that the token grants access to.
     */
    get pieceCid(): string | undefined;
    /**
     * The expiration time of the token.
     */
    get expiresAt(): number;
    /**
     * Whether the token is properly signed.
     */
    get isSigned(): boolean;
    private toBinary;
    private static fromProto;
    /**
     * Converts the authentication token to a string.
     *
     * @returns The authentication token as a base58-encoded string.
     */
    toString(): string;
    /**
     * Signs the authentication token using the provided signer.
     *
     * @param signer - The instance of Signer to use for signing the token.
     *
     * @example
     *
     * ```typescript
     * const signer: Signer = ...;
     * const authToken = new AuthToken(...);
     *
     * await authToken.sign(signer);
     * ```
     */
    sign(signer: Signer): Promise<this>;
    /**
     * Creates an `AuthToken` from a string or another `AuthToken`.
     *
     * @param token - The token as a string or an `AuthToken`.
     *
     * @returns An instance of the `AuthToken` class.
     *
     * @throws Will throw an error if the token is invalid.
     *
     * @example
     *
     * ```typescript
     * const token: string = '...';
     * const authToken = AuthToken.from(token);
     *
     * console.log(authToken);
     * ```
     */
    static from(token: string | AuthToken): AuthToken;
    /**
     * This static method is used to convert a token into an AuthToken object.
     *
     * @param token - The input token, which can be either a string or an AuthToken object.
     * @returns - If the input token is a string, returns an AuthToken object created from the string.
     *            If the input token is already an AuthToken object, returns the input token as is.
     *
     * @example
     *
     * ```typescript
     * const token: string = '...';
     * const authToken = AuthToken.maybeToken(token);
     *
     * console.log(authToken);
     * ```
     */
    static maybeToken(token?: string | AuthToken): AuthToken | undefined;
    /**
     * Creates an `AuthToken` with full access (GET, PUT, DELETE operations).
     *
     * @param params - The parameters of the token access.
     *
     * @returns An instance of the `AuthToken` class with full access.
     *
     * @example
     *
     * ```typescript
     * const authToken = AuthToken.fullAccess({
     *   bucketId: 1n,
     * });
     * ```
     */
    static fullAccess(params?: Omit<AuthTokenParams, 'operations'>): AuthToken;
}
//# sourceMappingURL=AuthToken.d.ts.map